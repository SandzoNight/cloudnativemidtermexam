{"version":3,"file":"5.743bf340a741158e8734.hot-update.js","sources":["webpack:///tools/api/request.js"],"sourcesContent":["import axios from 'axios'\r\nimport ENV from '../../config/env'\r\n\r\nfunction createApiInstance (headers) {\r\n  return axios.create({\r\n    baseURL: ENV.STUDENT_SERVICE,\r\n    headers,\r\n  })\r\n}\r\n\r\nfunction handleResponse (response) {\r\n  if (response.data) {\r\n    return {\r\n      status: response.status,\r\n      data: response.data,\r\n      headers: response.headers,\r\n    }\r\n  }\r\n  return { staus: response.status, headers: response.headers }\r\n}\r\n\r\nfunction catchError (e) {\r\n  if (e.response) {\r\n    return {\r\n      status: e.response.status,\r\n      data: e.response.data,\r\n      headers: e.response.headers,\r\n    }\r\n  } else if (e.request) {\r\n    console.log(e)\r\n    throw new Error(e.request)\r\n  } else {\r\n    throw new Error(e.message)\r\n  }\r\n}\r\n\r\nexport default {\r\n  get: (path, headers = {}) => (\r\n    createApiInstance(headers)\r\n      .get(path)\r\n      .then(handleResponse)\r\n      .catch(catchError)\r\n  ),\r\n  post: (path, body = {}, headers = {}) => (\r\n    createApiInstance()\r\n      .request({\r\n        url: path,\r\n        method: 'POST',\r\n        headers,\r\n        data: body,\r\n      })\r\n      .then(handleResponse)\r\n      .catch(catchError)\r\n  ),\r\n  put: (path, body = {}) => (\r\n    createApiInstance()\r\n      .request({\r\n        url: path,\r\n        method: 'PUT',\r\n        data: body,\r\n      })\r\n      .then(handleResponse)\r\n      .catch(catchError)\r\n  ),\r\n  delete: (path, body = {}) => (\r\n    createApiInstance()\r\n      .request({\r\n        url: path,\r\n        method: 'DELETE',\r\n        data: body,\r\n      })\r\n      .then(handleResponse)\r\n      .catch(catchError)\r\n  ),\r\n  patch: (path, body = {}) => (\r\n    createApiInstance()\r\n      .request({\r\n        url: path,\r\n        method: 'PATCH',\r\n        data: body,\r\n      })\r\n      .then(handleResponse)\r\n      .catch(catchError)\r\n  ),\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// tools/api/request.js"],"mappings":";;;;;;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AAJA;AAFA;AAWA;AAAA;AAAA;AAGA;AACA;AACA;AAHA;AAFA;AAUA;AAAA;AAAA;AAGA;AACA;AACA;AAHA;AAFA;AAUA;AAAA;AAAA;AAGA;AACA;AACA;AAHA;AAFA;AAtCA;;;;A","sourceRoot":""}